(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{4040:e=>{e.exports={page:"Home_page__z25kN",main:"Home_main__2uIek",main_title:"Home_main_title__5CdR9",main_sub_title:"Home_main_sub_title__vziuk",accordion_group:"Home_accordion_group__7525y"}},6289:e=>{e.exports={table_wrapper:"Table_table_wrapper__DlWgq",table:"Table_table__Uun0I",table_user:"Table_table_user__MOw4v",table_team:"Table_table_team__W8PjV"}},6512:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>x});var d=t(7876),n=t(7328),c=t.n(n),r=t(4040),i=t.n(r),l=t(4232);let o=async e=>{let a={players:[],rounds:[],teamA:{},teamB:{}};return await fetch(e).then(e=>e.text()).then(e=>{let t=e.split("\n"),d=/(\d{2}\/\d{2}\/\d{4}) - (\d{2}:\d{2}:\d{2}): "([^"<]+)<(\d+)><(STEAM_\d:\d:\d+)><>" entered the game/,n=/(\d{2}\/\d{2}\/\d{4}) - (\d{2}:\d{2}:\d{2}): "([^"<]+)<(\d+)><(STEAM_\d:\d:\d+)>" switched from team <([^>]+)> to <([^>]+)>/,c=/(\d{2}\/\d{2}\/\d{4}) - (\d{2}:\d{2}:\d{2}): MatchStatus: Team playing "(.+?)": (.+)/,r=/(\d{2}\/\d{2}\/\d{4}) - (\d{2}:\d{2}:\d{2}): MatchStatus: Score: (\d+):(\d+) on map "(.+?)" RoundsPlayed: (\d+)/,i=/(\d{2}\/\d{2}\/\d{4}) - (\d{2}:\d{2}:\d{2}):\s+\x04\[FACEIT\^] (.+?) \[(\d+) - (\d+)] (.+)/,l=/(\d{2}\/\d{2}\/\d{4}) - (\d{2}:\d{2}:\d{2}): "(.+?)<\d+><(STEAM_\d:\d:\d+)><(.+?)>" \[(-?\d+) (-?\d+) (-?\d+)] killed "(.+?)<\d+><(STEAM_\d:\d:\d+)><(.+?)>" \[(-?\d+) (-?\d+) (-?\d+)] with "(.+?)"( \(headshot\))?/,o=/(\d{2}\/\d{2}\/\d{4}) - (\d{2}:\d{2}:\d{2}): World triggered "(.+?)"/,s=null,_=null,m=[],u=[],h=null,p=null,x={};for(let e of t){if(d.test(e)){let t=e.match(d);t&&!a.players.find(e=>e.name===t[3])&&a.players.push({name:t[3],steamId:t[5],team:"Unassigned"})}if(n.test(e)){let t=e.match(n);if(t){let e=a.players.find(e=>e.name===t[3]);e&&(e.team=t[7])}}if(c.test(e)){let a=e.match(c);if(a)switch(a[3]){case"CT":p=a[4];break;case"TERRORIST":h=a[4]}}if(r.test(e)){let a=e.match(r);a&&(_=a[6])}if(i.test(e)){let t=e.match(i);t&&(x={[t[3]]:t[4],[t[6]]:t[5]},a.teamA={name:t[3],finalScore:t[4]},a.teamB={name:t[6],finalScore:t[5]})}if(l.test(e)){let a=e.match(l);a&&m.push({attacker:a[3],attackerTeam:a[5],victim:a[9],victimTeam:a[11]})}if(o.test(e)){let t=e.match(o);if(t)switch(t[3]){case"Round_Start":s=new Date(t[1]+" "+t[2]),m=[],u=[];break;case"Round_End":if(s&&null!=_&&p&&h){let e=new Date(t[1]+" "+t[2]);a.rounds.push({round:_,start:s,end:e,ct:p,terrorist:h,score:x,kills:m,assists:u})}}}}}),a};var s=t(6289),_=t.n(s);function m(e){let[a,t]=(0,l.useState)();return(0,l.useEffect)(()=>{var a;t(null==(a=e.players)?void 0:a.map(a=>{var t;return{player:a,kills:null==(t=e.round)?void 0:t.kills.filter(e=>e.attacker===a.name)}}).filter(e=>e.kills.length>0).sort((e,a)=>a.kills.length-e.kills.length))},[e.players,e.round.kills]),(0,d.jsx)("div",{className:_().table_wrapper,children:(0,d.jsx)("table",{className:_().table,children:(0,d.jsx)("tbody",{children:null==a?void 0:a.map(e=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:_().table_user}),(0,d.jsx)("td",{className:_().table_team,children:"<"+e.kills[0].attackerTeam+">"}),(0,d.jsx)("td",{className:_().table_kills})]},e.player.name))})})})}var u=t(6523),h=t.n(u);function p(e){let[a,t]=(0,l.useState)(!1),[n,c]=(0,l.useState)("0px"),r=(0,l.useRef)(null);return(0,d.jsxs)("div",{className:h().accordion_wrapper,children:[(0,d.jsxs)("div",{className:"".concat(h().accordion," ").concat(a?"active":""),onClick:function(){var e;t(!a),c(a?"0px":"".concat(null==(e=r.current)?void 0:e.scrollHeight,"px"))},children:[(0,d.jsx)("p",{className:h().accordion_title,children:"Round "+e.round.round}),(0,d.jsxs)("p",{className:h().accordion_teams,children:["CT: "," ",(0,d.jsx)("span",{className:h().accordion_team,children:e.round.ct}),"Terrorist: "," ",(0,d.jsx)("span",{className:h().accordion_team,children:e.round.terrorist})]}),(0,d.jsx)("p",{className:h().accordion_time,children:new Date(e.round.end.getTime()-e.round.start.getTime()).toISOString().substr(11,8)}),(0,d.jsx)("span",{className:h().accordion_button,style:{marginLeft:"20px"},children:a?"-":"+"})]}),(0,d.jsx)("div",{ref:r,style:{maxHeight:"".concat(n)},className:h().accordion_content,children:e.children})]})}function x(){var e;let[a,t]=(0,l.useState)();return(0,l.useEffect)(()=>{!async function(){t(await o("/data/csgo.txt"))}()},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(c(),{children:[(0,d.jsx)("title",{children:"Blast Code Challenge"}),(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,d.jsx)("div",{className:"".concat(i().page),children:(0,d.jsxs)("main",{className:i().main,children:[(0,d.jsx)("div",{className:i().main_title,children:"Counter-Strike Match"}),(0,d.jsx)("div",{className:i().main_sub_title,children:(null==a?void 0:a.teamA.name)+" vs "+(null==a?void 0:a.teamB.name)}),(0,d.jsx)("div",{className:i().accordion_group,children:a&&(null==(e=a.rounds)?void 0:e.map(e=>(0,d.jsx)(p,{round:e,children:(0,d.jsx)(m,{round:e,players:a.players})},e.round)))})]})})]})}},6523:e=>{e.exports={accordion_wrapper:"Accordion_accordion_wrapper__h_1tu",accordion:"Accordion_accordion__NX1Ut",active:"Accordion_active__cBZVQ",accordion_title:"Accordion_accordion_title__TIPpI",accordion_teams:"Accordion_accordion_teams__Rngom",accordion_team:"Accordion_accordion_team__dIZxu",accordion_time:"Accordion_accordion_time__VIacf",accordion_button:"Accordion_accordion_button__pKkk3",rotate:"Accordion_rotate__N818M",accordion_content:"Accordion_accordion_content__Qbr_j",accordion_text:"Accordion_accordion_text__J3W5Z"}},6760:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6512)}])},7328:(e,a,t)=>{e.exports=t(9836)}},e=>{var a=a=>e(e.s=a);e.O(0,[636,593,792],()=>a(6760)),_N_E=e.O()}]);